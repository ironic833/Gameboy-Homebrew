                                      1 ;--------------------------------------------------------
                                      2 ; File Created by SDCC : free open source ISO C Compiler 
                                      3 ; Version 4.2.2 #13350 (MINGW64)
                                      4 ;--------------------------------------------------------
                                      5 	.module util
                                      6 	.optsdcc -msm83
                                      7 	
                                      8 ;--------------------------------------------------------
                                      9 ; Public variables in this module
                                     10 ;--------------------------------------------------------
                                     11 	.globl _lastValue
                                     12 	.globl _RandomNumber
                                     13 	.globl _getSquareDistance
                                     14 ;--------------------------------------------------------
                                     15 ; special function registers
                                     16 ;--------------------------------------------------------
                                     17 ;--------------------------------------------------------
                                     18 ; ram data
                                     19 ;--------------------------------------------------------
                                     20 	.area _DATA
                                     21 ;--------------------------------------------------------
                                     22 ; ram data
                                     23 ;--------------------------------------------------------
                                     24 	.area _INITIALIZED
      000000                         25 _lastValue::
      000000                         26 	.ds 1
                                     27 ;--------------------------------------------------------
                                     28 ; absolute external ram data
                                     29 ;--------------------------------------------------------
                                     30 	.area _DABS (ABS)
                                     31 ;--------------------------------------------------------
                                     32 ; global & static initialisations
                                     33 ;--------------------------------------------------------
                                     34 	.area _HOME
                                     35 	.area _GSINIT
                                     36 	.area _GSFINAL
                                     37 	.area _GSINIT
                                     38 ;--------------------------------------------------------
                                     39 ; Home
                                     40 ;--------------------------------------------------------
                                     41 	.area _HOME
                                     42 	.area _HOME
                                     43 ;--------------------------------------------------------
                                     44 ; code
                                     45 ;--------------------------------------------------------
                                     46 	.area _CODE
                                     47 ;D:\Github\Gameboy-Homebrew\GBDK-Tutorials\Games\Pacman-From-Scratch\source\default\util.c:7: uint8_t RandomNumber(uint8_t min, uint8_t max){
                                     48 ;	---------------------------------
                                     49 ; Function RandomNumber
                                     50 ; ---------------------------------
      000000                         51 _RandomNumber::
      000000 3B               [ 8]   52 	dec	sp
      000001 F8 00            [12]   53 	ldhl	sp,	#0
      000003 77               [ 8]   54 	ld	(hl), a
      000004 43               [ 4]   55 	ld	b, e
                                     56 ;D:\Github\Gameboy-Homebrew\GBDK-Tutorials\Games\Pacman-From-Scratch\source\default\util.c:10: uint8_t v = (DIV_REG)+shadow_OAM[0].x+shadow_OAM[2].x+shadow_OAM[4].x+shadow_OAM[6].x+shadow_OAM[8].x+lastValue;
      000005 21r01r00         [12]   57 	ld	hl, #(_shadow_OAM + 1)
      000008 4E               [ 8]   58 	ld	c, (hl)
      000009 F0r00            [12]   59 	ldh	a, (_DIV_REG + 0)
      00000B 81               [ 4]   60 	add	a, c
      00000C 4F               [ 4]   61 	ld	c, a
      00000D FAr09r00         [16]   62 	ld	a, (#(_shadow_OAM + 9) + 0)
      000010 81               [ 4]   63 	add	a, c
      000011 4F               [ 4]   64 	ld	c, a
      000012 FAr11r00         [16]   65 	ld	a, (#(_shadow_OAM + 17) + 0)
      000015 81               [ 4]   66 	add	a, c
      000016 4F               [ 4]   67 	ld	c, a
      000017 FAr19r00         [16]   68 	ld	a, (#(_shadow_OAM + 25) + 0)
      00001A 81               [ 4]   69 	add	a, c
      00001B 4F               [ 4]   70 	ld	c, a
      00001C FAr21r00         [16]   71 	ld	a, (#(_shadow_OAM + 33) + 0)
      00001F 81               [ 4]   72 	add	a, c
      000020 21r00r00         [12]   73 	ld	hl, #_lastValue
      000023 86               [ 8]   74 	add	a, (hl)
      000024 5F               [ 4]   75 	ld	e, a
                                     76 ;D:\Github\Gameboy-Homebrew\GBDK-Tutorials\Games\Pacman-From-Scratch\source\default\util.c:14: lastValue= min+(v % (max-min)); 
      000025 78               [ 4]   77 	ld	a, b
      000026 16 00            [ 8]   78 	ld	d, #0x00
      000028 F8 00            [12]   79 	ldhl	sp,	#0
      00002A 4E               [ 8]   80 	ld	c, (hl)
      00002B 06 00            [ 8]   81 	ld	b, #0x00
      00002D 91               [ 4]   82 	sub	a, c
      00002E 4F               [ 4]   83 	ld	c, a
      00002F 7A               [ 4]   84 	ld	a, d
      000030 98               [ 4]   85 	sbc	a, b
      000031 47               [ 4]   86 	ld	b, a
      000032 16 00            [ 8]   87 	ld	d, #0x00
      000034 CDr00r00         [24]   88 	call	__modsint
      000037 F8 00            [12]   89 	ldhl	sp,	#0
      000039 7E               [ 8]   90 	ld	a, (hl)
      00003A 81               [ 4]   91 	add	a, c
      00003B 21r00r00         [12]   92 	ld	hl, #_lastValue
      00003E 77               [ 8]   93 	ld	(hl), a
                                     94 ;D:\Github\Gameboy-Homebrew\GBDK-Tutorials\Games\Pacman-From-Scratch\source\default\util.c:16: return lastValue;
      00003F 7E               [ 8]   95 	ld	a, (hl)
                                     96 ;D:\Github\Gameboy-Homebrew\GBDK-Tutorials\Games\Pacman-From-Scratch\source\default\util.c:17: }
      000040 33               [ 8]   97 	inc	sp
      000041 C9               [16]   98 	ret
                                     99 ;D:\Github\Gameboy-Homebrew\GBDK-Tutorials\Games\Pacman-From-Scratch\source\default\util.c:19: uint16_t getSquareDistance(uint8_t columnA, uint8_t rowA, uint8_t columnB, uint8_t rowB){
                                    100 ;	---------------------------------
                                    101 ; Function getSquareDistance
                                    102 ; ---------------------------------
      000042                        103 _getSquareDistance::
      000042 3B               [ 8]  104 	dec	sp
      000043 3B               [ 8]  105 	dec	sp
                                    106 ;D:\Github\Gameboy-Homebrew\GBDK-Tutorials\Games\Pacman-From-Scratch\source\default\util.c:21: return ((uint16_t)columnA-(uint16_t)columnB)*((uint16_t)columnA-(uint16_t)columnB)+ ((uint16_t)rowA-(uint16_t)rowB)*((uint16_t)rowA-(uint16_t)rowB);
      000044 16 00            [ 8]  107 	ld	d, #0x00
      000046 F8 04            [12]  108 	ldhl	sp,	#4
      000048 4E               [ 8]  109 	ld	c, (hl)
      000049 06 00            [ 8]  110 	ld	b, #0x00
      00004B 91               [ 4]  111 	sub	a, c
      00004C 6F               [ 4]  112 	ld	l, a
                                    113 ;	spillPairReg hl
                                    114 ;	spillPairReg hl
      00004D 7A               [ 4]  115 	ld	a, d
      00004E 98               [ 4]  116 	sbc	a, b
      00004F 57               [ 4]  117 	ld	d, a
      000050 D5               [16]  118 	push	de
      000051 4D               [ 4]  119 	ld	c, l
      000052 42               [ 4]  120 	ld	b, d
      000053 5D               [ 4]  121 	ld	e, l
      000054 CDr00r00         [24]  122 	call	__mulint
      000057 F8 02            [12]  123 	ldhl	sp,	#2
      000059 79               [ 4]  124 	ld	a, c
      00005A 22               [ 8]  125 	ld	(hl+), a
      00005B 70               [ 8]  126 	ld	(hl), b
      00005C D1               [12]  127 	pop	de
      00005D 7B               [ 4]  128 	ld	a, e
      00005E 0E 00            [ 8]  129 	ld	c, #0x00
      000060 F8 05            [12]  130 	ldhl	sp,	#5
      000062 5E               [ 8]  131 	ld	e, (hl)
      000063 16 00            [ 8]  132 	ld	d, #0x00
      000065 93               [ 4]  133 	sub	a, e
      000066 5F               [ 4]  134 	ld	e, a
      000067 79               [ 4]  135 	ld	a, c
      000068 9A               [ 4]  136 	sbc	a, d
      000069 57               [ 4]  137 	ld	d, a
      00006A 4B               [ 4]  138 	ld	c, e
      00006B 42               [ 4]  139 	ld	b, d
      00006C CDr00r00         [24]  140 	call	__mulint
      00006F E1               [12]  141 	pop	hl
      000070 E5               [16]  142 	push	hl
      000071 09               [ 8]  143 	add	hl, bc
      000072 4D               [ 4]  144 	ld	c, l
      000073 44               [ 4]  145 	ld	b, h
                                    146 ;D:\Github\Gameboy-Homebrew\GBDK-Tutorials\Games\Pacman-From-Scratch\source\default\util.c:22: }
      000074 33               [ 8]  147 	inc	sp
      000075 33               [ 8]  148 	inc	sp
      000076 E1               [12]  149 	pop	hl
      000077 F1               [12]  150 	pop	af
      000078 E9               [ 4]  151 	jp	(hl)
                                    152 	.area _CODE
                                    153 	.area _INITIALIZER
      000000                        154 __xinit__lastValue:
      000000 00                     155 	.db #0x00	; 0
                                    156 	.area _CABS (ABS)
