                                      1 ;--------------------------------------------------------
                                      2 ; File Created by SDCC : free open source ISO C Compiler 
                                      3 ; Version 4.2.2 #13350 (MINGW64)
                                      4 ;--------------------------------------------------------
                                      5 	.module common
                                      6 	.optsdcc -msm83
                                      7 	
                                      8 ;--------------------------------------------------------
                                      9 ; Public variables in this module
                                     10 ;--------------------------------------------------------
                                     11 	.globl _reverseDirections
                                     12 	.globl _Directions
                                     13 	.globl _ghosts
                                     14 	.globl _enableDebug
                                     15 	.globl _dotsRemaining
                                     16 	.globl _highScore
                                     17 	.globl _score
                                     18 	.globl _threeFrameAnimator
                                     19 	.globl _twoFrameAnimator
                                     20 	.globl _blank
                                     21 	.globl _pacman
                                     22 	.globl _TileSideWalkability
                                     23 	.globl _level
                                     24 	.globl _joypadPrevious
                                     25 	.globl _joypadCurrent
                                     26 ;--------------------------------------------------------
                                     27 ; special function registers
                                     28 ;--------------------------------------------------------
                                     29 ;--------------------------------------------------------
                                     30 ; ram data
                                     31 ;--------------------------------------------------------
                                     32 	.area _DATA
      000000                         33 _joypadCurrent::
      000000                         34 	.ds 1
      000001                         35 _joypadPrevious::
      000001                         36 	.ds 1
      000002                         37 _level::
      000002                         38 	.ds 1
      000003                         39 _TileSideWalkability::
      000003                         40 	.ds 2268
      0008DF                         41 _pacman::
      0008DF                         42 	.ds 12
      0008EB                         43 _blank::
      0008EB                         44 	.ds 1
                                     45 ;--------------------------------------------------------
                                     46 ; ram data
                                     47 ;--------------------------------------------------------
                                     48 	.area _INITIALIZED
      000000                         49 _twoFrameAnimator::
      000000                         50 	.ds 1
      000001                         51 _threeFrameAnimator::
      000001                         52 	.ds 1
      000002                         53 _score::
      000002                         54 	.ds 2
      000004                         55 _highScore::
      000004                         56 	.ds 2
      000006                         57 _dotsRemaining::
      000006                         58 	.ds 2
      000008                         59 _enableDebug::
      000008                         60 	.ds 1
      000009                         61 _ghosts::
      000009                         62 	.ds 48
                                     63 ;--------------------------------------------------------
                                     64 ; absolute external ram data
                                     65 ;--------------------------------------------------------
                                     66 	.area _DABS (ABS)
                                     67 ;--------------------------------------------------------
                                     68 ; global & static initialisations
                                     69 ;--------------------------------------------------------
                                     70 	.area _HOME
                                     71 	.area _GSINIT
                                     72 	.area _GSFINAL
                                     73 	.area _GSINIT
                                     74 ;--------------------------------------------------------
                                     75 ; Home
                                     76 ;--------------------------------------------------------
                                     77 	.area _HOME
                                     78 	.area _HOME
                                     79 ;--------------------------------------------------------
                                     80 ; code
                                     81 ;--------------------------------------------------------
                                     82 	.area _CODE
                                     83 	.area _CODE
      000000                         84 _Directions:
      000000 00 00                   85 	.dw #0x0000
      000002 FF FF                   86 	.dw #0xffff
      000004 01 00                   87 	.dw #0x0001
      000006 00 00                   88 	.dw #0x0000
      000008 00 00                   89 	.dw #0x0000
      00000A 01 00                   90 	.dw #0x0001
      00000C FF FF                   91 	.dw #0xffff
      00000E 00 00                   92 	.dw #0x0000
      000010                         93 _reverseDirections:
      000010 02                      94 	.db #0x02	; 2
      000011 03                      95 	.db #0x03	; 3
      000012 00                      96 	.db #0x00	; 0
      000013 01                      97 	.db #0x01	; 1
                                     98 	.area _INITIALIZER
      000000                         99 __xinit__twoFrameAnimator:
      000000 00                     100 	.db #0x00	; 0
      000001                        101 __xinit__threeFrameAnimator:
      000001 00                     102 	.db #0x00	; 0
      000002                        103 __xinit__score:
      000002 00 00                  104 	.dw #0x0000
      000004                        105 __xinit__highScore:
      000004 00 00                  106 	.dw #0x0000
      000006                        107 __xinit__dotsRemaining:
      000006 00 00                  108 	.dw #0x0000
      000008                        109 __xinit__enableDebug:
      000008 00                     110 	.db #0x00	; 0
      000009                        111 __xinit__ghosts:
      000009 00 00                  112 	.dw #0x0000
      00000B 00                     113 	.db #0x00	; 0
      00000C 00 00                  114 	.dw #0x0000
      00000E 00 00                  115 	.dw #0x0000
      000010 00                     116 	.db #0x00	; 0
      000011 00 00                  117 	.dw #0x0000
      000013 00 00                  118 	.dw #0x0000
      000015 00 00                  119 	.dw #0x0000
      000017 00                     120 	.db #0x00	; 0
      000018 00 00                  121 	.dw #0x0000
      00001A 00 00                  122 	.dw #0x0000
      00001C 00                     123 	.db #0x00	; 0
      00001D 00 00                  124 	.dw #0x0000
      00001F 00 00                  125 	.dw #0x0000
      000021 00 00                  126 	.dw #0x0000
      000023 00                     127 	.db #0x00	; 0
      000024 00 00                  128 	.dw #0x0000
      000026 00 00                  129 	.dw #0x0000
      000028 00                     130 	.db #0x00	; 0
      000029 00 00                  131 	.dw #0x0000
      00002B 00 00                  132 	.dw #0x0000
      00002D 00 00                  133 	.dw #0x0000
      00002F 00                     134 	.db #0x00	; 0
      000030 00 00                  135 	.dw #0x0000
      000032 00 00                  136 	.dw #0x0000
      000034 00                     137 	.db #0x00	; 0
      000035 00 00                  138 	.dw #0x0000
      000037 00 00                  139 	.dw #0x0000
                                    140 	.area _CABS (ABS)
